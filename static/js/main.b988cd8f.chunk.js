(this["webpackJsonpreact_product-categories-practice"]=this["webpackJsonpreact_product-categories-practice"]||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(9),r=a.n(n),s=(a(15),a(16),a(10)),i=a(3),l=a(8),o=(a(17),a(1)),d=a.n(o),u=a(4),j=a(0),f="ID",b="PRODUCT",h="CATEGORY",m="USER",x=function(e){var t=e.products,a=e.query,c=e.setQuery,n=function(e,t){var a=structuredClone(e);if(!Object.keys(t).length)return a;var c=Object.entries(t),n=Object(i.a)(c,1)[0],r=Object(i.a)(n,2),s=r[0],l=r[1];switch(s){case f:a.sort((function(e,t){return"ASC"===l?e.id-t.id:t.id-e.id}));break;case m:a.sort((function(e,t){return"ASC"===l?e.user.name.localeCompare(t.user.name):t.user.name.localeCompare(e.user.name)}));break;case h:a.sort((function(e,t){return"ASC"===l?e.category.title.localeCompare(t.category.title):t.category.title.localeCompare(e.category.title)}));break;case b:a.sort((function(e,t){return"ASC"===l?e.name.localeCompare(t.name):t.name.localeCompare(e.name)}));break;default:return a}return a}(t,a);return Object(j.jsxs)("table",{"data-cy":"ProductTable",className:"table is-striped is-narrow is-fullwidth",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:Object(j.jsxs)("span",{className:"is-flex is-flex-wrap-nowrap",children:["ID",Object(j.jsx)("a",{href:"#/",onClick:function(){return c((function(){return"DESC"===a[f]?{}:Object(u.a)({},f,a[f]?"DESC":"ASC")}))},children:Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{"data-cy":"SortIcon",className:d()("fas",{"fas fa-sort":!a[f],"fas fa-sort-down":"DESC"===a[f],"fas fa-sort-up":"ASC"===a[f]})})})})]})}),Object(j.jsx)("th",{children:Object(j.jsxs)("span",{className:"is-flex is-flex-wrap-nowrap",children:["Product",Object(j.jsx)("a",{href:"#/",onClick:function(){return c((function(){return"DESC"===a[b]?{}:Object(u.a)({},b,a[b]?"DESC":"ASC")}))},children:Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{"data-cy":"SortIcon",className:d()("fas",{"fas fa-sort":!a[b],"fas fa-sort-down":"DESC"===a[b],"fas fa-sort-up":"ASC"===a[b]})})})})]})}),Object(j.jsx)("th",{children:Object(j.jsxs)("span",{className:"is-flex is-flex-wrap-nowrap",children:["Category",Object(j.jsx)("a",{href:"#/",onClick:function(){return c((function(){return"DESC"===a[h]?{}:Object(u.a)({},h,a[h]?"DESC":"ASC")}))},children:Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{"data-cy":"SortIcon",className:d()("fas",{"fas fa-sort":!a[h],"fas fa-sort-down":"DESC"===a[h],"fas fa-sort-up":"ASC"===a[h]})})})})]})}),Object(j.jsx)("th",{children:Object(j.jsxs)("span",{className:"is-flex is-flex-wrap-nowrap",children:["User",Object(j.jsx)("a",{href:"#/",onClick:function(){return c((function(){return"DESC"===a[m]?{}:Object(u.a)({},m,a[m]?"DESC":"ASC")}))},children:Object(j.jsx)("span",{className:"icon",children:Object(j.jsx)("i",{"data-cy":"SortIcon",className:d()("fas",{"fas fa-sort":!a[m],"fas fa-sort-down":"DESC"===a[m],"fas fa-sort-up":"ASC"===a[m]})})})})]})})]})}),Object(j.jsx)("tbody",{children:n.map((function(e){return Object(j.jsxs)("tr",{"data-cy":"Product",children:[Object(j.jsx)("td",{className:"has-text-weight-bold","data-cy":"ProductId",children:e.id}),Object(j.jsx)("td",{"data-cy":"ProductName",children:e.name}),Object(j.jsx)("td",{"data-cy":"ProductCategory",children:"".concat(e.category.icon," - ").concat(e.category.title)}),Object(j.jsx)("td",{"data-cy":"ProductUser",className:"m"===e.user.sex?"has-text-link":"has-text-danger",children:e.user.name})]},e.id)}))})]})},O=[{id:1,name:"Roma",sex:"m"},{id:2,name:"Anna",sex:"f"},{id:3,name:"Max",sex:"m"},{id:4,name:"John",sex:"m"}],p=[{id:1,title:"Grocery",icon:"\ud83c\udf5e",ownerId:2},{id:2,title:"Drinks",icon:"\ud83c\udf7a",ownerId:1},{id:3,title:"Fruits",icon:"\ud83c\udf4f",ownerId:2},{id:4,title:"Electronics",icon:"\ud83d\udcbb",ownerId:1},{id:5,title:"Clothes",icon:"\ud83d\udc5a",ownerId:3}],C=[{id:1,name:"Milk",categoryId:2},{id:2,name:"Bread",categoryId:1},{id:3,name:"Eggs",categoryId:1},{id:4,name:"Jacket",categoryId:5},{id:5,name:"Sugar",categoryId:1},{id:6,name:"Banana",categoryId:3},{id:7,name:"Beer",categoryId:2},{id:8,name:"Socks",categoryId:5},{id:9,name:"Apples",categoryId:3}].map((function(e){var t=p.find((function(t){return e.categoryId===t.id})),a=O.find((function(e){return t.ownerId===e.id}));return Object(l.a)(Object(l.a)({},e),{},{category:t,user:a})})),y=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1],f=Object(c.useState)([]),b=Object(i.a)(f,2),h=b[0],m=b[1],y=Object(c.useState)({}),g=Object(i.a)(y,2),N=g[0],S=g[1],w=function(e,t,a,c){var n=structuredClone(e);if(t&&(n=n.filter((function(e){return e.user.id===t}))),a){var r=a.toLowerCase().trim();n=n.filter((function(e){return!!e.name.toLowerCase().includes(r)}))}return 0!==c.length&&(n=n.filter((function(e){return c.includes(e.category.id)}))),n}(C,a,o,h);return Object(j.jsx)("div",{className:"section",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"title",children:"Product Categories"}),Object(j.jsx)("div",{className:"block",children:Object(j.jsxs)("nav",{className:"panel",children:[Object(j.jsx)("p",{className:"panel-heading",children:"Filters"}),Object(j.jsxs)("p",{className:"panel-tabs has-text-weight-bold",children:[Object(j.jsx)("a",{"data-cy":"FilterAllUsers",href:"#/",className:d()({"is-active":!a}),onClick:function(){return n(null)},children:"All"}),O.map((function(e){return Object(j.jsx)("a",{"data-cy":"FilterUser",href:"#/",className:d()({"is-active":e.id===a}),onClick:function(){return n(e.id)},children:e.name},e.id)}))]}),Object(j.jsx)("div",{className:"panel-block",children:Object(j.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(j.jsx)("input",{"data-cy":"SearchField",type:"text",className:"input",placeholder:"Search",value:o,onChange:function(e){var t=e.target;return u(t.value)}}),Object(j.jsx)("span",{className:"icon is-left",children:Object(j.jsx)("i",{className:"fas fa-search","aria-hidden":"true"})}),Object(j.jsx)("span",{className:"icon is-right",children:o&&Object(j.jsx)("button",{"data-cy":"ClearButton",type:"button",className:"delete",onClick:function(){return u("")}})})]})}),Object(j.jsxs)("div",{className:"panel-block is-flex-wrap-wrap",children:[Object(j.jsx)("a",{href:"#/","data-cy":"AllCategories",className:d()("button","is-success","mr-6",{"is-outlined":0!==h.length}),onClick:function(){return m([])},children:"All"}),p.map((function(e){return Object(j.jsx)("a",{"data-cy":"Category",href:"#/",className:d()("button","mr-2","mr-1",{"is-info":h.includes(e.id)}),onClick:function(){return m((function(){return h.includes(e.id)?h.filter((function(t){return t!==e.id})):[].concat(Object(s.a)(h),[e.id])}))},children:e.title},e.id)}))]}),Object(j.jsx)("div",{className:"panel-block",children:Object(j.jsx)("a",{"data-cy":"ResetAllButton",href:"#/",className:"button is-link is-outlined is-fullwidth",onClick:function(){return n(null),u(""),void m([])},children:"Reset all filters"})})]})}),Object(j.jsx)("div",{className:"box table-container",children:0===w.length?Object(j.jsx)("p",{"data-cy":"NoMatchingMessage",children:"No products matching selected criteria"}):Object(j.jsx)(x,{products:w,query:N,setQuery:S})})]})})};r.a.render(Object(j.jsx)(y,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b988cd8f.chunk.js.map